---
import Icon from "@components/ui/icons/Icon.astro";
// Define props from Astro
const { id, collapseId, question, answer, first } = Astro.props;
// Define TypeScript interface for props
interface Props {
  id: string;
  collapseId: string;
  question: string;
  answer: string;
  first?: boolean;
}
// Define class names for the accordion and its content
const ACCORDION_CLASS_DEFAULT = "hs-accordion active";
const ACCORDION_CLASS_COLLAPSED = "hs-accordion";
const ACCORDION_CONTENT_CLASS =
  "hs-accordion-content w-full overflow-hidden transition-all duration-500 ease-out";
// Helper function to return the correct class for the accordion
function getAccordionClass(first: boolean = false) {
  return first ? ACCORDION_CLASS_DEFAULT : ACCORDION_CLASS_COLLAPSED;
}
---

<!-- The main container for the accordion item -->
<div class={`${getAccordionClass(first)} bg-white rounded-2xl shadow-soft border border-neutral-100 dark:bg-neutral-800 dark:border-neutral-700 transition-all duration-300 hover:shadow-medium`} id={id}>
  <!-- The accordion button, which toggles the expanded/collapsed state -->
  <button
    class="hs-accordion-toggle group inline-flex w-full items-center justify-between gap-x-4 text-balance rounded-2xl p-6 text-start font-semibold text-neutral-900 outline-hidden ring-primary-500 transition-all duration-200 hover:text-primary-700 focus-visible:ring-2 dark:text-white dark:ring-primary-400 dark:hover:text-primary-300 dark:focus:outline-hidden md:text-lg"
    aria-controls={collapseId}
  >
    {question}
    <!-- Animated chevron icon -->
    <div class="flex-shrink-0 p-1 rounded-lg bg-neutral-100 dark:bg-neutral-700 transition-all duration-300 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50">
      <svg class="w-5 h-5 transition-transform duration-300 hs-accordion-active:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </div>
  </button>
  <!-- The collapsible content of the accordion -->
  <div
    aria-labelledby={id}
    class={`${first ? ACCORDION_CONTENT_CLASS : "hidden " + ACCORDION_CONTENT_CLASS} px-6 pb-6`}
    id={collapseId}
  >
    <!-- The content paragraph -->
    <p class="text-pretty text-neutral-600 dark:text-neutral-300 leading-relaxed">
      {answer}
    </p>
  </div>
</div>
